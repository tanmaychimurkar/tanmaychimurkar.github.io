<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Rust Documentation: Chapter 5 | Tanmay's Blog</title><meta name=keywords content="Rust,bare metal,embedded"><meta name=description content="This post gives a breakdown of the key takeaways from Chapter 5 of the Rust Documentation"><meta name=author content="Tanmay"><link rel=canonical href=https://tanmaychimurkar.github.io/posts/rust/chap5/><meta name=google-site-verification content="TKI2D0Wu7RG5sp0Kc0eB1WxxMdTjGdf4iGzsl7OE4jU"><link crossorigin=anonymous href=/assets/css/stylesheet.b183800e2cfbb62c3bce2b2ba56cdb2dd33af76c75cf4550173d5dfebd7c68a6.css integrity="sha256-sYOADiz7tiw7zisrpWzbLdM692x1z0VQFz1d/r18aKY=" rel="preload stylesheet" as=style><link rel=icon href=https://tanmaychimurkar.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://tanmaychimurkar.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://tanmaychimurkar.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://tanmaychimurkar.github.io/apple-touch-icon.png><link rel=mask-icon href=https://tanmaychimurkar.github.io/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="Rust Documentation: Chapter 5"><meta property="og:description" content="This post gives a breakdown of the key takeaways from Chapter 5 of the Rust Documentation"><meta property="og:type" content="article"><meta property="og:url" content="https://tanmaychimurkar.github.io/posts/rust/chap5/"><meta property="og:image" content="https://rustacean.net/assets/rustacean-orig-noshadow.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-05-03T15:42:18+00:00"><meta property="article:modified_time" content="2023-05-03T15:42:18+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://rustacean.net/assets/rustacean-orig-noshadow.png"><meta name=twitter:title content="Rust Documentation: Chapter 5"><meta name=twitter:description content="This post gives a breakdown of the key takeaways from Chapter 5 of the Rust Documentation"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://tanmaychimurkar.github.io/posts/"},{"@type":"ListItem","position":3,"name":"Rust Documentation: Chapter 5","item":"https://tanmaychimurkar.github.io/posts/rust/chap5/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Rust Documentation: Chapter 5","name":"Rust Documentation: Chapter 5","description":"This post gives a breakdown of the key takeaways from Chapter 5 of the Rust Documentation","keywords":["Rust","bare metal","embedded"],"articleBody":"In the previous chapter, we saw we can use slices as references to a contiguous sequence of elements in a collection instead of the whole collection. In this chapter, we will deviate from Ownership rules and see how we can use structs to create custom data types.\nStructs In Rust, and in object-oriented programming languages, a Struct or structure is a custom data type that lets you hold multiple values in relation to it. It is like a tuple in the sense that a tuple also holds multiple values, but a tuple does not have names associated with the values. A Struct is similar to a tuple in the sense that it also holds multiple values, but it differs in the sense that it has names associated with the values.\nA struct is defined as follows:\nstruct User { active: bool, username: String, email: String, sign_in_count: u64, } and is initialized as follows:\nfn main() { let user1 = User { active: true, username: String::from(\"someusername123\"), email: String::from(\"someone@example.com\"), sign_in_count: 1, }; } Note: Syntax: When initializing a struct, the order of fields does not matter. We need curly brackets containing key-value pairs for each of the field of a struct.\nWe can extract values from a struct using the . operator followed by the key.\nNote: Design Choice: If we want to modify a field of a struct, the entire struct has to be mutable, rather than a single field.\nStructs can also be return values of functions, as shown below:\nstruct User { // defining a struct active: bool, username: String, email: String, sign_in_count: u64, } fn build_user(email: String, username: String) -\u003e User { User { // returning an initialized struct email: email, // we can use shorthand syntax and just put 'email' instead of 'email: email' username: username, // can also use shorthand syntax here active: true, sign_in_count: 1, } } Creating a new struct by reusing values from an old struct The struct update syntax helps us reuse most of the values from a struct to create a new struct. This is useful when only have to modify a few values in the new struct.\nSuppose we have a user1 object from the User struct as follows:\nlet user1 = User { active: true, username: String::from(\"someusername123\"), email: String::from(\"someone@example.com\"), sign_in_count: 1, }; Let’s say we want to create another user that only has a different email, but the rest of the values are the same as that of user1. This can be done as follows:\nlet user2 = User { email: String::from(\"user2email@example.com\"), active: user1.active, // we can just get the value from user1 object username: user1.username, // we can just get the value from user1 object sign_in_count: user1.sign_in_count, // we can just get the value from user1 object }; An even better shorthand for this is as follows:\nlet user2 = User{ email: String::from(\"user2email@example.com\"), ..user1 // take values for the rest of the fields as defined in 'user1' } Ownership of Struct Data In the above example, when we create user2, we will no longer have access to user1 object. This is because of the = operator. When we use the = operator, the value is moved from the old variable to the new field, and the field username of user1, which is a String, will transfer ownership to user2.\nOn the other hand, if both email and username fields are changed for user2, then user1 will still be valid, as the ownership of the String values will not be transferred to user2, and active and sign_in_count are both stored on Stack as their sizes are known at compile time. Boom!\nTuple Structs We can also define structs that look like tuples, but are different types. These are called tuple structs. They have no key names associated with the values, but they are different types. For example:\nstruct Color(i32, i32, i32); struct Point(i32, i32, i32); are two different tuples of type Color and Point respectively, even though they have the same number of values and the same types of values. A function that takes Color type as an argument cannot take a Point type as an argument, even though they look the same.\nHow and when to use Structs Using tuple can be useful in some scenarios where we want to link values to each other. For example, if we want to calculate the area of a rectangle, we could use a tuple as follows:\nfn main() { let rectangle = (10, 20); // tuple containing width and height compute_area(rectangle); // pass a tuple struct as an argument fn compute_area(dims: (i32, i32)) -\u003e i32 { dims.0 * dims.1 } } The above implementation uses a tuple struct Rectangle, and we pass the width and the height to it together as a tuple. But what if we wanted to plot the rectangle? We would then need to keep track of which index represents the width and height. That can get messy very fast.\nUsing struct instead Instead of passing a tuple, we can improve the readiblity of the code above by creating a struct Rectangle and assigning the width and height to it as follows:\nfn main() { struct Rectangle { width: i32, height: i32, } let rect = Rectangle { width: 10, height: 20 }; compute_area(\u0026rect); fn compute_area(rect: \u0026Rectangle) { let rect_area = rect.width * rect.height; println!(\"The area of the rectangle is {rect_area}\") } } We can see that the implementation that we have now is much easier to understand since the paremeters width and height are linked to the struct Rectangle.\nAdding more functionality to structs So far, we have not tried to print a struct object in rust. Let’s try the following to print a struct object:\nfn main() { struct Rectangle { width: i32, height: i32, } ; let rect = Rectangle { width: 10, height: 20 }; println!(\"The rectangle is {rect}\", rect = rect); } When run, we should get the following error:\nerror[E0277]: `Rectangle` doesn't implement `std::fmt::Display` --\u003e src/main.rs:15:60 | 15 | println!(\"The area of the rectangle is {rect}\", rect = rect); | ^^^^ `Rectangle` cannot be formatted with the default formatter | = help: the trait `std::fmt::Display` is not implemented for `Rectangle` = note: in format strings you may be able to use `{:?}` (or {:#?} for pretty-print) instead = note: this error originates in the macro `$crate::format_args_nl` which comes from the expansion of the macro `println` (in Nightly builds, run with -Z macro-backtrace for more info) Okay, compiler says let’s try to print with {:?} instead. Let’s try that:\nuse std::io; fn main() { struct Rectangle { width: i32, height: i32, } let rect = Rectangle { width: 10, height: 20 }; println!(\"The rectangle is {:?}\", rect); } When run, now we get another error:\nerror[E0277]: `Rectangle` doesn't implement `Debug` --\u003e src/main.rs:15:51 | 15 | println!(\"The area of the rectangle is {:?}\", rect); | ^^^^ `Rectangle` cannot be formatted using `{:?}` | = help: the trait `Debug` is not implemented for `Rectangle` = note: add `#[derive(Debug)]` to `Rectangle` or manually `impl Debug for Rectangle` = note: this error originates in the macro `$crate::format_args_nl` which comes from the expansion of the macro `println` (in Nightly builds, run with -Z macro-backtrace for more info) help: consider annotating `Rectangle` with `#[derive(Debug)]` | 4 | #[derive(Debug)] | It error now says Rectangle doesn't implement Debug.\nIn rust, Debug is a trait that allows us to print the data of a variable such that it is easier for us to debug. The compiler also gives us help: add '#[derive(Debug)]' to Rectangle or manually 'impl Debug for Rectangle'\nTo resolve this issue, we can modify our code as following:\nfn main() { #[derive(Debug)] // we added the Debug trait to our struct struct Rectangle { width: i32, height: i32, } let rect = Rectangle { width: 10, height: 20, }; println!(\"The rectangle is {:?}\", rect); // this should now work and show the data in the struct } Run the above code and be in for a surprise!\nAttaching a method to a struct The function to compute area is very specific to rectangles, and will not work for circles or triangles. In that, we should link the compute_area function to the Rectangle struct. This would be attaching a method to the struct.\n","wordCount":"1375","inLanguage":"en","image":"https://rustacean.net/assets/rustacean-orig-noshadow.png","datePublished":"2023-05-03T15:42:18Z","dateModified":"2023-05-03T15:42:18Z","author":{"@type":"Person","name":"Tanmay"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://tanmaychimurkar.github.io/posts/rust/chap5/"},"publisher":{"@type":"Organization","name":"Tanmay's Blog","logo":{"@type":"ImageObject","url":"https://tanmaychimurkar.github.io/favicon.ico"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://tanmaychimurkar.github.io accesskey=h title="Tanmay's Blog (Alt + H)">Tanmay's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://tanmaychimurkar.github.io/archives title=Archive><span>Archive</span></a></li><li><a href=https://tanmaychimurkar.github.io/categories title=Categories><span>Categories</span></a></li><li><a href=https://tanmaychimurkar.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://tanmaychimurkar.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://tanmaychimurkar.github.io>Home</a>&nbsp;»&nbsp;<a href=https://tanmaychimurkar.github.io/posts/>Posts</a></div><h1 class=post-title>Rust Documentation: Chapter 5</h1><div class=post-description>This post gives a breakdown of the key takeaways from Chapter 5 of the Rust Documentation</div><div class=post-meta><span title='2023-05-03 15:42:18 +0000 UTC'>May 3, 2023</span>&nbsp;·&nbsp;7 min&nbsp;·&nbsp;Tanmay&nbsp;|&nbsp;<a href=https://github.com/tanmaychimurkar/tanmaychimurkar.github.io/tree/main/content/posts/rust/chap5.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><figure class=entry-cover><img loading=lazy src=https://rustacean.net/assets/rustacean-orig-noshadow.png alt="Rust Crab"><p>The Rust crab, Ferris, with its arms folded</p></figure><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#structs aria-label=Structs>Structs</a><ul><li><a href=#creating-a-new-struct-by-reusing-values-from-an-old-struct aria-label="Creating a new struct by reusing values from an old struct">Creating a new struct by reusing values from an old struct</a></li><li><a href=#ownership-of-struct-data aria-label="Ownership of Struct Data">Ownership of Struct Data</a></li><li><a href=#tuple-structs aria-label="Tuple Structs">Tuple Structs</a></li></ul></li><li><a href=#how-and-when-to-use-structs aria-label="How and when to use Structs">How and when to use Structs</a><ul><li><a href=#using-struct-instead aria-label="Using struct instead">Using <code>struct</code> instead</a></li><li><a href=#adding-more-functionality-to-structs aria-label="Adding more functionality to structs">Adding more functionality to structs</a></li><li><a href=#attaching-a-method-to-a-struct aria-label="Attaching a method to a struct">Attaching a method to a <code>struct</code></a></li></ul></li></ul></div></details></div><div class=post-content><p>In the <a href=https://tanmaychimurkar.github.io/posts/rust/chap4-slices/ title="Rust Chapter 4 - Slices">previous chapter</a>, we saw we can use slices as references
to a contiguous sequence of elements in a collection instead of the whole collection. In this chapter, we will
deviate from Ownership rules and see how we can use <code>structs</code> to create custom data types.</p><h2 id=structs>Structs<a hidden class=anchor aria-hidden=true href=#structs>#</a></h2><p>In Rust, and in object-oriented programming languages, a <code>Struct</code> or structure is a custom data type that lets you
hold multiple values in relation to it. It is like a tuple in the sense that a tuple also holds multiple values, but
a tuple does not have names associated with the values. A <code>Struct</code> is similar to a <code>tuple</code> in the sense that it also
holds multiple values, but it differs in the sense that it has names associated with the values.</p><p>A struct is defined as follows:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=k>struct</span> <span class=nc>User</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>active</span>: <span class=kt>bool</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>username</span>: <span class=nb>String</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>email</span>: <span class=nb>String</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>sign_in_count</span>: <span class=kt>u64</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><p>and is initialized as follows:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=k>fn</span> <span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>user1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>User</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>active</span>: <span class=nc>true</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>username</span>: <span class=nb>String</span>::<span class=n>from</span><span class=p>(</span><span class=s>&#34;someusername123&#34;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>email</span>: <span class=nb>String</span>::<span class=n>from</span><span class=p>(</span><span class=s>&#34;someone@example.com&#34;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>sign_in_count</span>: <span class=mi>1</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><p><code>Note: Syntax</code>: When initializing a struct, the order of fields does not matter. We need curly brackets containing <em>key-value</em>
pairs for each of the field of a struct.</p><p>We can extract values from a <code>struct</code> using the <code>.</code> operator followed by the key.</p><p><code>Note: Design Choice</code>: If we want to modify a field of a <code>struct</code>, the entire <code>struct</code> has to be mutable, rather than a
single field.</p><p>Structs can also be return values of functions, as shown below:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=k>struct</span> <span class=nc>User</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=c1>// defining a struct
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=n>active</span>: <span class=kt>bool</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>username</span>: <span class=nb>String</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>email</span>: <span class=nb>String</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>sign_in_count</span>: <span class=kt>u64</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>fn</span> <span class=nf>build_user</span><span class=p>(</span><span class=n>email</span>: <span class=nb>String</span><span class=p>,</span><span class=w> </span><span class=n>username</span>: <span class=nb>String</span><span class=p>)</span><span class=w> </span>-&gt; <span class=nc>User</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>User</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=c1>// returning an initialized struct
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>        </span><span class=n>email</span>: <span class=nc>email</span><span class=p>,</span><span class=w> </span><span class=c1>// we can use shorthand syntax and just put &#39;email&#39; instead of &#39;email: email&#39;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>        </span><span class=n>username</span>: <span class=nc>username</span><span class=p>,</span><span class=w> </span><span class=c1>// can also use shorthand syntax here
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>        </span><span class=n>active</span>: <span class=nc>true</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>sign_in_count</span>: <span class=mi>1</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><h3 id=creating-a-new-struct-by-reusing-values-from-an-old-struct>Creating a new struct by reusing values from an old struct<a hidden class=anchor aria-hidden=true href=#creating-a-new-struct-by-reusing-values-from-an-old-struct>#</a></h3><p>The <code>struct update</code> syntax helps us reuse most of the values from a struct to create a new struct. This is useful when
only have to modify a few values in the new <code>struct</code>.</p><p>Suppose we have a <code>user1</code> object from the <code>User</code> struct as follows:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=kd>let</span><span class=w> </span><span class=n>user1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>User</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>active</span>: <span class=nc>true</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>username</span>: <span class=nb>String</span>::<span class=n>from</span><span class=p>(</span><span class=s>&#34;someusername123&#34;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>email</span>: <span class=nb>String</span>::<span class=n>from</span><span class=p>(</span><span class=s>&#34;someone@example.com&#34;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>sign_in_count</span>: <span class=mi>1</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>};</span><span class=w>
</span></span></span></code></pre></div><p>Let&rsquo;s say we want to create another user that only has a different email, but the rest of the values are
the same as that of <code>user1</code>. This can be done as follows:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=kd>let</span><span class=w> </span><span class=n>user2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>User</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>email</span>: <span class=nb>String</span>::<span class=n>from</span><span class=p>(</span><span class=s>&#34;user2email@example.com&#34;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>active</span>: <span class=nc>user1</span><span class=p>.</span><span class=n>active</span><span class=p>,</span><span class=w> </span><span class=c1>// we can just get the value from user1 object
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=n>username</span>: <span class=nc>user1</span><span class=p>.</span><span class=n>username</span><span class=p>,</span><span class=w> </span><span class=c1>// we can just get the value from user1 object
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=n>sign_in_count</span>: <span class=nc>user1</span><span class=p>.</span><span class=n>sign_in_count</span><span class=p>,</span><span class=w> </span><span class=c1>// we can just get the value from user1 object
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>};</span><span class=w>
</span></span></span></code></pre></div><p>An even better shorthand for this is as follows:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=kd>let</span><span class=w> </span><span class=n>user2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>User</span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>email</span>: <span class=nb>String</span>::<span class=n>from</span><span class=p>(</span><span class=s>&#34;user2email@example.com&#34;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=o>..</span><span class=n>user1</span><span class=w> </span><span class=c1>// take values for the rest of the fields as defined in &#39;user1&#39;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><h3 id=ownership-of-struct-data>Ownership of Struct Data<a hidden class=anchor aria-hidden=true href=#ownership-of-struct-data>#</a></h3><p>In the above example, when we create <code>user2</code>, we will no longer have access to <code>user1</code> object. This is
because of the <code>=</code> operator. When we use the <code>=</code> operator, the value is moved from the old variable to the new
field, and the field <code>username</code> of <code>user1</code>, which is a <code>String</code>, will transfer ownership to <code>user2</code>.</p><p>On the other hand, if both <code>email</code> and <code>username</code> fields are changed for <code>user2</code>, then <code>user1</code> will still be
valid, as the ownership of the <code>String</code> values will not be transferred to <code>user2</code>, and <code>active</code> and <code>sign_in_count</code>
are both stored on <code>Stack</code> as their sizes are known at compile time. Boom!</p><h3 id=tuple-structs>Tuple Structs<a hidden class=anchor aria-hidden=true href=#tuple-structs>#</a></h3><p>We can also define structs that look like tuples, but are different types. These are called <code>tuple structs</code>. They
have no key names associated with the values, but they are different types. For example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=k>struct</span> <span class=nc>Color</span><span class=p>(</span><span class=kt>i32</span><span class=p>,</span><span class=w> </span><span class=kt>i32</span><span class=p>,</span><span class=w> </span><span class=kt>i32</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>struct</span> <span class=nc>Point</span><span class=p>(</span><span class=kt>i32</span><span class=p>,</span><span class=w> </span><span class=kt>i32</span><span class=p>,</span><span class=w> </span><span class=kt>i32</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></div><p>are two different tuples of type <code>Color</code> and <code>Point</code> respectively, even though they have the same number of values
and the same types of values. A function that takes <code>Color</code> type as an argument cannot take a <code>Point</code> type
as an argument, even though they look the same.</p><h2 id=how-and-when-to-use-structs>How and when to use Structs<a hidden class=anchor aria-hidden=true href=#how-and-when-to-use-structs>#</a></h2><p>Using tuple can be useful in some scenarios where we want to link values to each other. For example,
if we want to calculate the area of a rectangle, we could use a tuple as follows:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=k>fn</span> <span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>rectangle</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=mi>10</span><span class=p>,</span><span class=w> </span><span class=mi>20</span><span class=p>);</span><span class=w> </span><span class=c1>// tuple containing width and height
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>compute_area</span><span class=p>(</span><span class=n>rectangle</span><span class=p>);</span><span class=w> </span><span class=c1>// pass a tuple struct as an argument  
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>fn</span> <span class=nf>compute_area</span><span class=p>(</span><span class=n>dims</span>: <span class=p>(</span><span class=kt>i32</span><span class=p>,</span><span class=w> </span><span class=kt>i32</span><span class=p>))</span><span class=w> </span>-&gt; <span class=kt>i32</span> <span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>dims</span><span class=p>.</span><span class=mi>0</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>dims</span><span class=p>.</span><span class=mi>1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><p>The above implementation uses a tuple struct <code>Rectangle</code>, and we pass the width and the height to it
together as a tuple. But what if we wanted to plot the rectangle? We would then need to keep track
of which index represents the <code>width</code> and <code>height</code>. That can get messy very fast.</p><h3 id=using-struct-instead>Using <code>struct</code> instead<a hidden class=anchor aria-hidden=true href=#using-struct-instead>#</a></h3><p>Instead of passing a tuple, we can improve the readiblity of the code above by creating a struct <code>Rectangle</code>
and assigning the width and height to it as follows:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=k>fn</span> <span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>struct</span> <span class=nc>Rectangle</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>width</span>: <span class=kt>i32</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>height</span>: <span class=kt>i32</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>rect</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Rectangle</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>width</span>: <span class=mi>10</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>height</span>: <span class=mi>20</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>compute_area</span><span class=p>(</span><span class=o>&amp;</span><span class=n>rect</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>fn</span> <span class=nf>compute_area</span><span class=p>(</span><span class=n>rect</span>: <span class=kp>&amp;</span><span class=nc>Rectangle</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kd>let</span><span class=w> </span><span class=n>rect_area</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>rect</span><span class=p>.</span><span class=n>width</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>rect</span><span class=p>.</span><span class=n>height</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;The area of the rectangle is </span><span class=si>{rect_area}</span><span class=s>&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><p>We can see that the implementation that we have now is much easier to understand since the paremeters
<code>width</code> and <code>height</code> are linked to the struct <code>Rectangle</code>.</p><h3 id=adding-more-functionality-to-structs>Adding more functionality to structs<a hidden class=anchor aria-hidden=true href=#adding-more-functionality-to-structs>#</a></h3><p>So far, we have not tried to print a <code>struct</code> object in rust. Let&rsquo;s try the following to print a <code>struct</code>
object:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=k>fn</span> <span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>struct</span> <span class=nc>Rectangle</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>width</span>: <span class=kt>i32</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>height</span>: <span class=kt>i32</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>rect</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Rectangle</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>width</span>: <span class=mi>10</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>height</span>: <span class=mi>20</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;The rectangle is </span><span class=si>{rect}</span><span class=s>&#34;</span><span class=p>,</span><span class=w> </span><span class=n>rect</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>rect</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><p>When run, we should get the following error:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>error<span class=o>[</span>E0277<span class=o>]</span>: <span class=sb>`</span>Rectangle<span class=sb>`</span> doesn<span class=err>&#39;</span>t implement <span class=sb>`</span>std::fmt::Display<span class=sb>`</span>
</span></span><span class=line><span class=cl>  --&gt; src/main.rs:15:60
</span></span><span class=line><span class=cl>   <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=m>15</span> <span class=p>|</span>     println!<span class=o>(</span><span class=s2>&#34;The area of the rectangle is {rect}&#34;</span>, <span class=nv>rect</span> <span class=o>=</span> rect<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>   <span class=p>|</span>                                                            ^^^^ <span class=sb>`</span>Rectangle<span class=sb>`</span> cannot be formatted with the default formatter
</span></span><span class=line><span class=cl>   <span class=p>|</span>
</span></span><span class=line><span class=cl>   <span class=o>=</span> help: the trait <span class=sb>`</span>std::fmt::Display<span class=sb>`</span> is not implemented <span class=k>for</span> <span class=sb>`</span>Rectangle<span class=sb>`</span>
</span></span><span class=line><span class=cl>   <span class=o>=</span> note: in format strings you may be able to use <span class=sb>`</span><span class=o>{</span>:?<span class=o>}</span><span class=sb>`</span> <span class=o>(</span>or <span class=o>{</span>:#?<span class=o>}</span> <span class=k>for</span> pretty-print<span class=o>)</span> <span class=nv>instead</span>
</span></span><span class=line><span class=cl>   <span class=o>=</span> note: this error originates in the macro <span class=sb>`</span><span class=nv>$crate</span>::format_args_nl<span class=sb>`</span> which comes from the expansion of the macro <span class=sb>`</span>println<span class=sb>`</span> <span class=o>(</span>in Nightly builds, run with -Z macro-backtrace <span class=k>for</span> more info<span class=o>)</span>
</span></span></code></pre></div><p>Okay, compiler says let&rsquo;s try to print with <code>{:?}</code> instead. Let&rsquo;s try that:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=k>use</span><span class=w> </span><span class=n>std</span>::<span class=n>io</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>fn</span> <span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>struct</span> <span class=nc>Rectangle</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>width</span>: <span class=kt>i32</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>height</span>: <span class=kt>i32</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>rect</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Rectangle</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>width</span>: <span class=mi>10</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>height</span>: <span class=mi>20</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;The rectangle is </span><span class=si>{:?}</span><span class=s>&#34;</span><span class=p>,</span><span class=w> </span><span class=n>rect</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><p>When run, now we get another error:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>error<span class=o>[</span>E0277<span class=o>]</span>: <span class=sb>`</span>Rectangle<span class=sb>`</span> doesn<span class=err>&#39;</span>t implement <span class=sb>`</span>Debug<span class=sb>`</span>
</span></span><span class=line><span class=cl>  --&gt; src/main.rs:15:51
</span></span><span class=line><span class=cl>   <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=m>15</span> <span class=p>|</span>     println!<span class=o>(</span><span class=s2>&#34;The area of the rectangle is {:?}&#34;</span>, rect<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>   <span class=p>|</span>                                                   ^^^^ <span class=sb>`</span>Rectangle<span class=sb>`</span> cannot be formatted using <span class=sb>`</span><span class=o>{</span>:?<span class=o>}</span><span class=sb>`</span>
</span></span><span class=line><span class=cl>   <span class=p>|</span>
</span></span><span class=line><span class=cl>   <span class=o>=</span> help: the trait <span class=sb>`</span>Debug<span class=sb>`</span> is not implemented <span class=k>for</span> <span class=sb>`</span>Rectangle<span class=sb>`</span>
</span></span><span class=line><span class=cl>   <span class=o>=</span> note: add <span class=sb>`</span><span class=c1>#[derive(Debug)]` to `Rectangle` or manually `impl Debug for Rectangle`</span>
</span></span><span class=line><span class=cl>   <span class=o>=</span> note: this error originates in the macro <span class=sb>`</span><span class=nv>$crate</span>::format_args_nl<span class=sb>`</span> which comes from the expansion of the macro <span class=sb>`</span>println<span class=sb>`</span> <span class=o>(</span>in Nightly builds, run with -Z macro-backtrace <span class=k>for</span> more info<span class=o>)</span>
</span></span><span class=line><span class=cl>help: consider annotating <span class=sb>`</span>Rectangle<span class=sb>`</span> with <span class=sb>`</span><span class=c1>#[derive(Debug)]`</span>
</span></span><span class=line><span class=cl>   <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=m>4</span>  <span class=p>|</span>     <span class=c1>#[derive(Debug)]</span>
</span></span><span class=line><span class=cl>   <span class=p>|</span>
</span></span></code></pre></div><p>It error now says <code>Rectangle doesn't implement Debug</code>.</p><p>In rust, <code>Debug</code> is a trait that allows us to print the data of a variable such that it is easier for
us to debug. The compiler also gives us help: <code>add '#[derive(Debug)]' to Rectangle or manually 'impl Debug for Rectangle'</code></p><p>To resolve this issue, we can modify our code as following:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=k>fn</span> <span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cp>#[derive(Debug)]</span><span class=w> </span><span class=c1>// we added the Debug trait to our struct
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=k>struct</span> <span class=nc>Rectangle</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>width</span>: <span class=kt>i32</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>height</span>: <span class=kt>i32</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>rect</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Rectangle</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>width</span>: <span class=mi>10</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>height</span>: <span class=mi>20</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;The rectangle is </span><span class=si>{:?}</span><span class=s>&#34;</span><span class=p>,</span><span class=w> </span><span class=n>rect</span><span class=p>);</span><span class=w> </span><span class=c1>// this should now work and show the data in the struct
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><p>Run the above code and be in for a surprise!</p><h3 id=attaching-a-method-to-a-struct>Attaching a method to a <code>struct</code><a hidden class=anchor aria-hidden=true href=#attaching-a-method-to-a-struct>#</a></h3><p>The function to compute area is very specific to rectangles, and will not work for circles or triangles.
In that, we should link the <code>compute_area</code> function to the <code>Rectangle</code> struct.
This would be attaching a <code>method</code> to the struct.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://tanmaychimurkar.github.io/tags/rust/>Rust</a></li><li><a href=https://tanmaychimurkar.github.io/tags/bare-metal/>bare metal</a></li><li><a href=https://tanmaychimurkar.github.io/tags/embedded/>embedded</a></li></ul><nav class=paginav><a class=prev href=https://tanmaychimurkar.github.io/posts/docker/docker_images/><span class=title>« Prev</span><br><span>Docker Images and DockerFile</span></a>
<a class=next href=https://tanmaychimurkar.github.io/posts/rust/chap4-slices/><span class=title>Next »</span><br><span>Rust Documentation: Chapter 4 - Slices</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Rust Documentation: Chapter 5 on twitter" href="https://twitter.com/intent/tweet/?text=Rust%20Documentation%3a%20Chapter%205&amp;url=https%3a%2f%2ftanmaychimurkar.github.io%2fposts%2frust%2fchap5%2f&amp;hashtags=Rust%2cbaremetal%2cembedded"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Rust Documentation: Chapter 5 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2ftanmaychimurkar.github.io%2fposts%2frust%2fchap5%2f&amp;title=Rust%20Documentation%3a%20Chapter%205&amp;summary=Rust%20Documentation%3a%20Chapter%205&amp;source=https%3a%2f%2ftanmaychimurkar.github.io%2fposts%2frust%2fchap5%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Rust Documentation: Chapter 5 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2ftanmaychimurkar.github.io%2fposts%2frust%2fchap5%2f&title=Rust%20Documentation%3a%20Chapter%205"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Rust Documentation: Chapter 5 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2ftanmaychimurkar.github.io%2fposts%2frust%2fchap5%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Rust Documentation: Chapter 5 on whatsapp" href="https://api.whatsapp.com/send?text=Rust%20Documentation%3a%20Chapter%205%20-%20https%3a%2f%2ftanmaychimurkar.github.io%2fposts%2frust%2fchap5%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Rust Documentation: Chapter 5 on telegram" href="https://telegram.me/share/url?text=Rust%20Documentation%3a%20Chapter%205&amp;url=https%3a%2f%2ftanmaychimurkar.github.io%2fposts%2frust%2fchap5%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://tanmaychimurkar.github.io>Tanmay's Blog</a></span>
<span>Made with &#128151; with
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>